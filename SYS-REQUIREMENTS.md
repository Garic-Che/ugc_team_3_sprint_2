# Cистемные требования

## Функциональные требования:
- лайки
- отзывы
- история просмотров фильмов пользователем
- фильмы в закладках
- список недосмотренных фильмов
- информацию о работе с плеером (вроде переключения языков)

## Анализ взаимодействия с системой:
- отслеживание кликов (данные о кликах пользователя по различным элементам интерфейса, таким как фильмы, трейлеры, категории и другие ключевые элементы сайта)
- отслеживание просмотров страниц (какие страницы (например, страницы фильмов, категорий, акционных предложений) пользователи просматривают и сколько времени проводят на них)
- отслеживание кастомных событий (каждая смена качества видео, фиксация каждого просмотра фильма до конца, запись использования фильтров при поиске фильмов (например, по жанру, рейтингу, актерам), фиксация каждого переключения языков)

## Нефункциональные требования:
- отказоустойчивость (недоступность UGC-сервиса не должна мешать пользователям получать доступ к базе с фильмами) 
- масштабируемость (поддержка 10к пользователей в пиковые периоды)
- безопасность (предупредить распространение спама через отзывы, предусмотреть запуск скриптов через форму с отзывами, исключить атаки, направленные на истощение памяти системы)
- удобство использования (система не должна прерывать просмотр фильма, требуя авторизации пользователя)
- память (550 ГБ в год, при DAU = 10000)


Здесь о том, как пришёл к такому количеству памяти:

Требуемая память на отзывы в год = DAU * среднее кол-во фильмов в день одним человеком * средняя занимаемая память одним отзывом * 365

DAU = 10000

Cреднее кол-во фильмов в день одним человеком = 2. Получил, полагая что среднее количество времени в день = 1 час 22 минуты, т.е две серии сериала по 40 минут, т.е. 2 отзыва от человека в день, если каждый будет оставлять отзыв под каждым просмотренным видео. (Источник: https://evoca.tv/video-streaming-statistics/)

Средняя занимаемая память одним отзывом = среднее количество слов в отзывах * среднюю длину слова * 2 (байтов под символ кириллицы в UTF-8) = 1500 * 8 * 2 = 24 000 (байт)

Среднее количество слов в отзывах = 1500 (https://twp.duke.edu/sites/twp.duke.edu/files/file-attachments/film-review-1.original.pdf)
Средняя длина слова в русском = 8 букв для научной литературы (научная литература, чтобы более расходный по памяти случай рассмотреть)

Требуемая память на отзывы в год = 10 000 * 2 * 24 000 * 365 = 175 200 000 000 (байт) ~ 163.2 ГБ в год, но это только отзывы, т.е. без метаданных 

Кириллицу брал, чтобы рассмотреть затратный по памяти случай: 2 байта в юникоде, средняя длина слова больше английского + выбрал научный стиль, чтобы был запас

Думаю, можно в два раза больше брать, чтобы сохранять данные под остальные функциональные требования, т.е лайки, историю просмотров и т.д